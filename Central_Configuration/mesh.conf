#################################################
# NETCS Mesh Config File
#
###

description NETCS perfSONAR Mesh

<administrator>
  name  netcs-admin
  email ahmad@smartx.kr
</administrator>

#################################################
# Organizations
##

## NETCS
<organization>
    description         UM-MY Site

    <site>

        <host>
              # BWCTL & OWAMP host
              description 203.80.21.4
              address  203.80.21.4
              <measurement_archive>
                  type        perfsonarbuoy/bwctl
                  read_url    http://203.80.21.4/esmond/perfsonar/archive
                  write_url   http://203.80.21.4/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        perfsonarbuoy/owamp
                  read_url    http://203.80.21.4/esmond/perfsonar/archive
                  write_url   http://203.80.21.4/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        traceroute
                  read_url    http://203.80.21.4/esmond/perfsonar/archive
                  write_url   http://203.80.21.4/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        pinger
                  read_url    http://203.80.21.4/esmond/perfsonar/archive
                  write_url   http://203.80.21.4/esmond/perfsonar/archive
              </measurement_archive>
        </host>

    </site>

</organization>

## NUC
<organization>
    description         NUC

    <site>

        <host>
              # BWCTL & OWAMP host
              description 103.22.221.62
              address  103.22.221.62
              <measurement_archive>
                  type        perfsonarbuoy/bwctl
                  read_url    http://103.22.221.62/esmond/perfsonar/archive
                  write_url   http://103.22.221.62/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        perfsonarbuoy/owamp
                  read_url    http://103.22.221.62/esmond/perfsonar/archive
                  write_url   http://103.22.221.62/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        traceroute
                  read_url    http://103.22.221.62/esmond/perfsonar/archive
                  write_url   http://103.22.221.62/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        pinger
                  read_url    http://103.22.221.62/esmond/perfsonar/archive
                  write_url   http://103.22.221.62/esmond/perfsonar/archive
              </measurement_archive>
        </host>
    </site>

</organization>


<organization>
    description         TH Site

    <site>

        <host>
              # BWCTL & OWAMP host
              description 161.200.25.99
              address  161.200.25.99
              <measurement_archive>
                  type        perfsonarbuoy/bwctl
                  read_url    http://161.200.25.99/esmond/perfsonar/archive
                  write_url   http://161.200.25.99/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        perfsonarbuoy/owamp
                  read_url    http://161.200.25.99/esmond/perfsonar/archive
                  write_url   http://161.200.25.99/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        traceroute
                  read_url    http://161.200.25.99/esmond/perfsonar/archive
                  write_url   http://161.200.25.99/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        pinger
                  read_url    http://161.200.25.99/esmond/perfsonar/archive
                  write_url   http://161.200.25.99/esmond/perfsonar/archive
              </measurement_archive>

        </host>

    </site>

</organization>



<organization>
    description         VN-HUST Site

    <site>

        <host>
              # BWCTL & OWAMP host
              description VN-HUST
              address  203.191.48.228
              <measurement_archive>
                  type        perfsonarbuoy/bwctl
                  read_url    http:/203.191.48.228/esmond/perfsonar/archive
                  write_url   http://203.191.48.228/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        perfsonarbuoy/owamp
                  read_url    http://203.191.48.228/esmond/perfsonar/archive
                  write_url   http://203.191.48.228/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        traceroute
                  read_url    http://203.191.48.228/esmond/perfsonar/archive
                  write_url   http://203.191.48.228/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        pinger
                  read_url    http://203.191.48.228/esmond/perfsonar/archive
                  write_url   http://203.191.48.228/esmond/perfsonar/archive
              </measurement_archive>

        </host>

    </site>

</organization>


<organization>
    description         TW-NCKU

    <site>

        <host>
              # BWCTL & OWAMP host
              description NCKU
              address  140.116.214.241
              <measurement_archive>
                  type        perfsonarbuoy/bwctl
                  read_url    http://140.116.214.241/esmond/perfsonar/archive
                  write_url   http://140.116.214.241/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        perfsonarbuoy/owamp
                  read_url    http://140.116.214.241/esmond/perfsonar/archive
                  write_url   http://140.116.214.241/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        traceroute
                  read_url    http://140.116.214.241/esmond/perfsonar/archive
                  write_url   http://140.116.214.241/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        pinger
                  read_url    http://140.116.214.241/esmond/perfsonar/archive
                  write_url   http://140.116.214.241/esmond/perfsonar/archive
              </measurement_archive>

        </host>

    </site>

</organization>

<organization>
    description         MYREN

    <site>

        <host>
              # BWCTL & OWAMP host
              description MYREN
              address  103.26.47.228
              <measurement_archive>
                  type        perfsonarbuoy/bwctl
                  read_url    http:/103.26.47.228/esmond/perfsonar/archive
                  write_url   http://103.26.47.228/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        perfsonarbuoy/owamp
                  read_url    http://103.26.47.228/esmond/perfsonar/archive
                  write_url   http://103.26.47.228/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        traceroute
                  read_url    http://103.26.47.228/esmond/perfsonar/archive
                  write_url   http://103.26.47.228/esmond/perfsonar/archive
              </measurement_archive>
              <measurement_archive>
                  type        pinger
                  read_url    http://103.26.47.228/esmond/perfsonar/archive
                  write_url   http://103.26.47.228/esmond/perfsonar/archive
              </measurement_archive>
        </host>

    </site>

</organization>







##########################################################################################
# Test specifications
##

<test_spec bwctl_2h_tcp_test>
  # Define a test spec for testing achievable bandwidth once every 2 hours
  type              perfsonarbuoy/bwctl # Perform a bwctl test (i.e. achievable bandwidth)
  tool              bwctl/iperf3                        # Use 'iperf' to do the bandwidh test
  protocol          tcp                                 # Run a TCP bandwidth test
  interval          14400                               # Run the test every approx 4 hours
  duration          20                                  # Perform a 10 second test
  force_bidirectional 0                 # do bidirectional test
  random_start_percentage 25            # randomize start time
  omit_interval 5                                       # ignore first 5 seconds
</test_spec>



#<test_spec owamp_test>
  # Define a test spec for doing jitter, loss and latency testing

#  type              perfsonarbuoy/owamp        # Perform a constant low-bandwidth OWAMP test
#  packet_interval   0.1                                # Send 10 packets every second (i.e. pause 0.1 seconds between each packet)
#  loss_threshold    10                         # Wait no more than 10 seconds for a response
#  session_count     10800                      # Refresh the test every half hour (once every 18000 packets)
#  sample_count      1200                               # Send results back every 30 seconds (once every 300 packets)
#  packet_padding    0                          # The size of the packets (not including the IP/UDP headers)
#  bucket_width      0.0001                     # The granularity of the measurements
#  force_bidirectional 0                                # do bidirectional test
#</test_spec>

<test_spec traceroute_test>
  # Define a test spec for running traceroute tests every 10 minutes

  type              traceroute                  # Perform a traceroute test
  test_interval     1200                                # Run the test every 20 minutes
  protocol          udp                         # Run a UDP traceroute (could also be 'icmp')
  timeout           30                                  # Wait 30 seconds
  pause             0                                   # Number of seconds to pause between each traceroute probe
  waittime          5                                   # Number of seconds to wait for a response before assuming its lost
  packet_size       40                          # The size of the packets (not include IP/UDP headers)
</test_spec>


#<test_spec bwctl_2h_udp_test>
  # Define a test spec for testing achievable bandwidth once every 2 hours
#  type              perfsonarbuoy/bwctl # Perform a bwctl test (i.e. achievable bandwidth)
#  tool              bwctl/iperf3                        # Use 'iperf' to do the bandwidh test
#  protocol          udp                                 # Run a TCP bandwidth test
#  interval          7200                                # Run the test every approx 2 hours
#  duration          10                                  # Perform a 10 second test
#  force_bidirectional 0                         # do bidirectional test
#  random_start_percentage 25            # randomize start time
#  omit_interval 5                                       # ignore first 5 seconds
#</test_spec>

<test_spec bwctl_24h_udp_test_v4>
   type              perfsonarbuoy/bwctl
   tool              bwctl/iperf3
   protocol          udp                  # Run a UDP bandwidth test
   interval          14400                # Run the test every 24 hours
   duration          10                   # Perform a 10 second test
   udp_bandwidth     40000000            # Perform a 100Mbps test
   force_bidirectional 0                  # do bidirectional test
   random_start_percentage 25             # randomize start time
   ipv4_only         1
</test_spec>

<test_spec ping_test>
  # Define a test spec for doing ICMP jitter, loss and latency testing every 5 minutes

  type              pinger               # Perform PingER tests
  test_interval     600                  # Perform a test every 10 minutes
  packet_count      10                   # Send 10 packets for each test
  packet_interval   1                    # Pause 1 second between each packet sent
  packet_size       1000                 # The size of the packets (not include the IP headers)
</test_spec>


##########################################################################################
# Groups
##

<group full_bes_bwctl>
    type       mesh

    member      203.80.21.4
    member      103.22.221.62
    member      161.200.25.99
    member      203.191.48.228
#    member      203.237.53.135
#    member      202.90.150.4
    member      140.116.214.241
#    member      103.26.47.228

</group>

<group full_bes_owamp>
    type       mesh

    member      140.116.214.241
    member      203.80.21.4
    member      103.22.221.62
    member      161.200.25.99
    member      203.191.48.228
#    member      203.237.53.135
#    member      202.90.150.4
#    member      103.26.47.228
</group>


##########################################################################################
# Tests
##
<test>
  description           BES Throughput Testing
  group                 full_bes_bwctl
  test_spec             bwctl_2h_tcp_test
</test>

#<test>
#  description          BES Latency Testing
#  group                full_bes_owamp
#  test_spec            owamp_test
#</test>

<test>
  description           BES Traceroute Testing
  group                 full_bes_owamp
  test_spec             traceroute_test
</test>


<test>
  description           BES Throughput Testing
  group                 full_bes_bwctl
  test_spec             bwctl_24h_udp_test_v4
</test>

<test>
  description           Ping Test Between Latency Hosts
  group                 full_bes_owamp
  test_spec             ping_test
</test>
